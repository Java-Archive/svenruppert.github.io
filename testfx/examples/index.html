
<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>RapidPM - Blog</title>

    <!-- Bootstrap-CSS -->
    <link href="http://rapidpm.github.io/site/css/bootstrap.min.css" rel="stylesheet">

    <!-- Besondere Stile für diese Vorlage -->
    <link href="http://rapidpm.github.io/site/css/blog.css" rel="stylesheet">

    <!-- Nur für Testzwecke. Kopiere diese Zeile nicht in echte Projekte! -->
    <!--[if lt IE 9]>
    <script src="http://rapidpm.github.io/site/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- Unterstützung für Media Queries und HTML5-Elemente im Internet Explorer über HTML5 shim und Respond.js -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->


    <!-- Include required JS files -->
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shCore.js"></script>
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shBrushJava.js"></script>
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shBrushJavaFX.js"></script>
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shBrushSql.js"></script>
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shBrushJScript.js"></script>
    <script type="text/javascript" src="http://rapidpm.github.io/site/syntax/shBrushXml.js"></script>

    <!-- Include *at least* the core style and default theme -->
    <link href="http://rapidpm.github.io/site/syntax/shCore.css" rel="stylesheet" type="text/css" />
    <link href="http://rapidpm.github.io/site/syntax/shThemeDefault.css" rel="stylesheet" type="text/css" />

    <!-- Custom styles for this template -->
    <link href="http://rapidpm.github.io/site/css/carousel.css" rel="stylesheet">

    <!-- Google Analytics -->
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-35462441-1', 'auto');
    ga('send', 'pageview');

    </script>
    <!-- End Google Analytics -->
</head>

<body>

<!-- NAVBAR
================================================== -->
<div class="navbar-wrapper">
    <div class="container">

        <div class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="container">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href="http://www.rapidpm.org">RapidPM</a>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="/conferences/index.html">Conferences/Talks</a></li>
                        <li><a href="/publications/index.html">Publications</a></li>
                        <li><a href="/license/index.html">License</a></li>
                        <li><a href="/releases/index.html">Releases</a></li>
                        <li><a href="/contact/index.html">Contact</a></li>
                        <li><a href="/impressum/index.html">Impressum</a></li>
                        <!--
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">Team<b class="caret"></b></a>
                            <ul class="dropdown-menu">
                                <li><a href="#">Sven Ruppert</a></li>
                                <li><a href="#">Marco Ebbinghaus</a></li>
                                <li><a href="#">Alexander Bischof</a></li>
                                <li class="divider"></li>
                                <li class="dropdown-header">Nav header</li>
                                <li><a href="#">Separated link</a></li>
                                <li><a href="#">One more separated link</a></li>
                            </ul>
                        </li>
                        -->
                    </ul>
                </div>
            </div>
        </div>

    </div>
</div>


<!-- Carousel
================================================== -->
<div id="myCarousel" class="carousel slide" data-ride="carousel">
    <!-- Indicators -->
    <ol class="carousel-indicators">
        <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
        <li data-target="#myCarousel" data-slide-to="1"></li>
        <li data-target="#myCarousel" data-slide-to="2"></li>
        <li data-target="#myCarousel" data-slide-to="3"></li>
        <!--<li data-target="#myCarousel" data-slide-to="4"></li>
        <li data-target="#myCarousel" data-slide-to="5"></li>
        -->
    </ol>
    <div class="carousel-inner">
        <div class="item active">
            <!--<img data-src="holder.js/900x500/auto/#777:#7a7a7a/">-->
            <img data-src="holder.js/900x500/auto/#666:#6a6a6a/" >
            <div class="container">
                <div class="carousel-caption">
                    <h1>New Version 2.0.1</h1>
                    <p>the new version is available at maven central </br>
                        we added a new module for iot with tinkerforge.</p>
                    <p><a class="btn btn-lg btn-primary" href="http://search.maven.org/#search%7Cga%7C1%7Crapidpm"
                          role="button">jump to maven central</a></p>
                    <p><br/><br/><br/><br/></p>
                </div>
            </div>
        </div>
        <div class="item">
            <img data-src="holder.js/900x500/auto/#666:#6a6a6a/" >
            <div class="container">
                <div class="carousel-caption">
                    <img src="/team/sven-ruppert/images/slider750x374.jpg ">
                    <p>@SvenRuppert (Core Java / CDI / JavaFX / Reflection)</p>
                </div>
            </div>
        </div>
        <div class="item">
            <img data-src="holder.js/900x500/auto/#666:#6a6a6a/" >
            <div class="container">
                <div class="carousel-caption">
                    <img src="/team/alexander-bischof/images/bildalexquer.JPG">
                    <p>@A_Bischof (Core Java / CDI / JavaEE )</p>
                </div>
            </div>
        </div>
        <div class="item">
            <img data-src="holder.js/auto/#666:#6a6a6a/text:" >
            <div class="container">
                <div class="carousel-caption">
                    <h1>our git repository</h1>
                    <p>RapidPM could be found under <br/>
                        <code><a xlink:href="https://bitbucket.org/rapidpm/modules" target="_blank">bitbucket.org/rapidpm/modules</a></code>
                    </p>
                    <p><br/><br/><br/><br/></p>
                </div>
            </div>
        </div>
        <!--

<div class="item">
    <img data-src="holder.js/900x500/auto/#666:#6a6a6a/text:Second slide" >
    <div class="container">
        <div class="carousel-caption">
            <h1>Another example headline.</h1>
            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
            <p><a class="btn btn-lg btn-primary" href="#" role="button">Learn more</a></p>
        </div>
    </div>
</div>
<div class="item">
    <img data-src="holder.js/900x500/auto/#555:#5a5a5a/text:Third slide" >
    <div class="container">
        <div class="carousel-caption">
            <h1>One more for good measure.</h1>
            <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p>
            <p><a class="btn btn-lg btn-primary" href="#" role="button">Browse gallery</a></p>
        </div>
    </div>
</div>
-->
    </div>
    <!--<a class="left carousel-control" href="#myCarousel" data-slide="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>-->
    <!--<a class="right carousel-control" href="#myCarousel" data-slide="next"><span class="glyphicon glyphicon-chevron-right"></span></a>-->
</div><!-- /.carousel -->





<div class="container">

    <div class="blog-header">
        <h1 class="blog-title">The RapidPM Blog</h1>
        <p class="lead blog-description">We are speaking Java, because it is a great pleasure for us.</p>
    </div>

    <div class="row">

        <div class="col-sm-8 blog-main">
            <div class="blog-post">
                <h2 class="blog-post-title">Testing JavaFX with TestFX</a></h2>
                <p>
                    JavaFX is out there for a couple of years (since Java 7U6) and still most of the 'old' desktop applications
                    are running
                    with Swing or Eclipse RCP. In some way it makes sense to me because GUI migrations can be really expensive
                    and create some risks.
                    But it is possible to do a so called 'smooth migration' which we have described
                    <a href="http://jax.de/2014/sessions/cdi-und-javafx-ein-entkoppeltes-paar-mit-swing">here</a> (currently
                    only in german).
                    But maybe customers have not migrated yet because of the lack of JavaFX testing tools. In this article we
                    introduce to you TestFX and will show you what it does.
                </p>

                <p>
                    To show you the general usage of TestFX we have created a simple user application. It contains a simple
                    login dialog which delegates to a main dialog if the credentials are correct. The main dialog contains
                    a button, a textfield (to filter by age) and a table which contains users of the database. The sources of
                    this mini project can be found on <a href="http://stash.rapidpm.org/scm/pub/javaone-2014-001-testfx.git">RapidPM</a>.
                    <img src="logindialog.png" width="40%" height="40%"/><img src="maindialog.png" width="40%" height="40%"/>
                </p>

                <p>
                    To create a TestFX-Test we have to create at first a test class which is derived from
                    <i>org.loadui.testfx.GuiTest</i>
                    and at second implement
                    the method <i>protected Parent getRootNode()</i>. The result of this method is the JavaFX component
                    which we want to test. Given that we can create our test-methods as shown with the simple LoginDialogTest
                    shown beneath:
                </p>

            <pre class="brush: java">
public class LoginDialogTest extends GuiTest {
    @Override
    protected Parent getRootNode() {
        try {
            return FXMLLoader.load(getClass().getResource("logindialog.fxml"));
        } catch (IOException e) {
            e.printStackTrace();
        }
        return null;
    }

    @Test
    public void testSuccessfulLogin() {
        final TextField tfusername = find("#tfusername");
        click(tfusername).type("alex");

        final PasswordField pfpassword = find("#pfpassword");
        click(pfpassword).type("test");

        Button blogin = find("#blogin");
        click(blogin);

        verifyThat("#status", hasText("granted"));
    }
    //snip
}
            </pre>

                <p>
                    As you can see we provide our target to TestFX (a fresh login dialog instance) and create afterwards our
                    test
                    methods. In this case we want to test a successful login which results in the following steps:</p>
                <ul>
                    <li>Search username textfield by fx:id</li>
                    <li>Put selection to it</li>
                    <li>Type username (in this case 'alex')</li>
                </ul>
                <p>
                    Almost the same procedure has to be done for the other components password and clicking the button. After
                    that
                    we can test the expected behavior which in this case is the text <i>granted</i> in a status label.<br/>

                    But wait a moment, how can we do that GUI stuff (e.g. typing, clicking...)? Because we are deriving from
                    GuiTest we can use the full advantage
                    of the simple chaining API (which was one of the goals of TestFX) as well as the already provided GUI
                    functions. Here
                    we listed some of the more important functions:
                </p>

                <ul>
                    <li>click - clicks on a component (e.g. button or textfield)</li>
                    <li>doubleclick - doubleclicks on a component (e.g. button or textfield)</li>
                    <li>type - Textinput on the current component (e.g. textfield)</li>
                    <li>scroll - Scrolls the current component</li>
                    <li>find - Searches for a component (e.g. by id or by node label)</li>
                    ...
                </ul>

                <p>
                    You may have noticed that we test with the <i>verifyThat</i> method which is also part of TestFX (do be
                    precise
                    of the class <i>org.loadui.testfx.Assertions</i>) and acts as a bridge between TestFX and the Hamcrest API.
                    With that the test code keeps really small and offers also the possibility to extend TestFX for your own JavaFX
                    components.
                </p>

                <p>
                    In the next part we will show how we can test the rest of this small application. For that we have to create
                    a new test class and again
                    provide our target to test in the getRootNode() method. After this we can implement our test cases.
                </p>
<pre class="brush: java">
public class MainDialogTest extends GuiTest {
        @Override
        protected Parent getRootNode() {
            try {
                return FXMLLoader.load(getClass().getResource("maindialog.fxml"));
            } catch (IOException e) {
                e.printStackTrace();
            }
            return null;
        }

        @Test
        public void testSearchAge44() {

            //Given
            UserService.Service.addUser(new User("Mustermann", "Hans", 44));

            //When
            //Set Age 44
            final TextField text = find("#tfage");
            click(text).type("44");

            //Search
            Button bsearch = find("#bSearchUser");
            click(bsearch);

            TableView<?> table = find("#tableView");
            int entryCount = table.getItems().size();

            //Then
            //Only one shoud be resolved
            Assert.assertTrue(entryCount == 1);

            verifyThat(".table-view", containsCell("Mustermann"));
        }
    //snip
</pre>

                <p>Interesting links:
                <ul>
                    <li>TestFX in the current version is not able to run headless. But some thoughts about that can be found here <a
                            href="http://ustesis.wordpress.com/2014/04/23/headless-ui-testing-with-testfx-and-javafx-8/">TestFX
                        headless</a></li>
                    <li>TestFX Wiki: <a href="https://github.com/TestFX/TestFX/wiki">TestFX Wiki</a></li>
                    <li>TestFX Video: <a href="https://www.youtube.com/watch?v=fgD8fBn1cYw">TestFX Video</a></li>
                </ul>
                </p>

            </div>            <!--
            <ul class="pager">
                <li><a href="#">Vorherige</a></li>
                <li><a href="#">Nächste</a></li>
            </ul>
            -->
        </div><!-- /.blog-main -->

        <div class="col-sm-3 col-sm-offset-1 blog-sidebar">

            <div class="sidebar-module sidebar-module-inset">
                <h4>About Us</h4>
                <p>We are a group of developers, speaking Java and proud to be nerds ;-)
                </p>
            </div>
            <div class="sidebar-module">
                <h4>Sponsoring</h4>
                <ol class="list-unstyled">
                    <li><a href="http://www.codecentric.de">codecentric AG</a></li>
                    <li><a href="http://www.intellij.com">JetBrains</a></li>
                    <li><a href="http://zeroturnaround.com/">zeroturnaround</a></li>
                    <li><a href="https://www.atlassian.com/">Atlassian</a></li>
                </ol>
            </div>
            <div class="sidebar-module">
                <h4>We are at </h4>
                <ol class="list-unstyled">
                    <li><a href="https://github.com/RapidPM">GitHub</a></li>
                    <li><a href="https://twitter.com/SvenRuppert">Twitter - Sven Ruppert</a></li>
                    <li><a href="https://plus.google.com/u/0/+SvenRuppert/">GooglePlus - Sven Ruppert</a></li>
                    <li><a href="https://twitter.com/A_Bischof">Twitter - Alexander Bischof</a></li>
                    <li><a href="https://plus.google.com/u/0/100135686516251171415/">GooglePlus - Alexander Bischof</a></li>
                </ol>
            </div>
            <div class="sidebar-module">
                <h4>Archives</h4>
                <ol class="list-unstyled">
                    <li><a href="/2014/07">2014-07</a></li>
                    <li><a href="/2014/06">2014-06</a></li>
                    <li><a href="/2014/05">2014-05</a></li>
                    <li><a href="/2014/04">2014-04</a></li>
                    <li><a href="/2014/03">2014-03</a></li>
                    <li><a href="/2014/02">2014-02</a></li>
                    <li><a href="/2014/01">2014-01</a></li>
                    <li><a href="/2013/12">2013-12</a></li>
                    <li><a href="/2013/11">2013-11</a></li>
                    <li><a href="/2013/10">2013-10</a></li>
                    <li><a href="/2013/09">2013-09</a></li>
                    <li><a href="/2013/08">2013-08</a></li>
                    <li><a href="/2013/07">2013-07</a></li>
                    <li><a href="/2013/06">2013-06</a></li>
                    <li><a href="/2013/05">2013-05</a></li>
                </ol>
            </div>

        </div><!-- /.blog-sidebar -->

    </div><!-- /.row -->

</div><!-- /.container -->

<div class="blog-footer">
    <p>
        <a href="#">back to the top</a>
    </p>
</div>


<!-- Bootstrap-JavaScript
================================================== -->
<!-- Am Ende des Dokuments platziert, damit Seiten schneller laden -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script src="http://rapidpm.github.io/site/js/bootstrap.min.js"></script>
<script src="http://rapidpm.github.io/site/js/docs.min.js"></script>
<!-- Finally, to actually run the highlighter, you need to include this JS on your page -->
<script type="text/javascript">
    SyntaxHighlighter.all()
</script>
</body>
</html>
